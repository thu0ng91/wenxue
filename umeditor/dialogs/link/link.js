!function(){var a=UM.utils,b="";UM.registerWidget("link",{initContent:function(a){var e,f,c=a.getLang("link"),d=a.selection.getRange();d.select(),b=a.selection.getText(),$("#edui-dialog-link").find("#control_footer").show(),e='<style type="text/css">.edui-link-table{font-size: 12px;line-height: 30px}.edui-link-txt{width:260px;*width:250px;height:21px;line-height:21px;border:1px solid #d7d7d7;}</style><table class="edui-link-table"><input type=\'hidden\' value=\'link\' id=\'islink\'/><tr><td><label for="href"><%=lang_input_url%></label></td><td><input class="edui-link-txt" id="edui-link-Jhref" type="text" /></td></tr><tr style=\'display:'+(""!=b?"none":"")+"'>"+'<td><label for="title"><%=lang_input_title%></label></td>'+'<td><input class="edui-link-txt" id="edui-link-Jtitle" type="text" value="'+b+'"/></td>'+"</tr>"+"<tr>"+"</tr>"+"</table>",c&&(f=$.parseTmpl(e,c.static)),this.root().html(f)},initEvent:function(b,c){var d=b.queryCommandValue("link");d&&($("#edui-link-Jhref",c).val(a.html($(d).attr("href"))),$("#edui-link-Jtitle",c).val($(d).attr("title")),"_blank"==$(d).attr("target")&&$("#edui-link-Jtarget").attr("checked",!0))},buttons:{ok:{exec:function(a){var c=$("#edui-link-Jhref").val().replace(/^\s+|\s+$/g,"");c&&a.execCommand("link",{href:c,target:"_blank",title:$("#edui-link-Jtitle").val().replace(/^\s+|\s+$/g,""),_href:c})}},cancel:{}},width:400})}();